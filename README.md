# üõí –ö–∞—Ç–∞–ª–æ–≥ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ –Ω–∞ Laravel

–¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ: —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å –≥—Ä—É–ø–ø–∞–º–∏, –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤.  
–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω. –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π.

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±)

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:
   - Docker
   - Docker Compose

2. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/helpmekotik10-png/test-project-refreeze.git
cd test-project
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:

```bash
docker compose up --build
```

> ‚è≥ –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:
> - –°–æ–±–∏—Ä–∞–µ—Ç—Å—è –æ–±—Ä–∞–∑ PHP
> - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Laravel (`composer install`)
> - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã
> - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–∏–¥–µ—Ä

4. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

üëâ [http://localhost:8000](http://localhost:8000)

---

## üîß –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ

- **Laravel 10+** (–≤ –ø–∞–ø–∫–µ `laravel/`)
- **Nginx** ‚Äî –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
- **MySQL 8** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- Bootstrap 5 ‚Äî –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ docker-compose.yml        # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ laravel/                  # Laravel-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ resources/views/
‚îÇ   ‚îú‚îÄ‚îÄ database/migrations/
‚îÇ   ‚îú‚îÄ‚îÄ .env                  # –ù–∞—Å—Ç—Ä–æ–µ–Ω –ø–æ–¥ Docker
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ nginx/conf.d/             # –ö–æ–Ω—Ñ–∏–≥ Nginx
‚îÇ   ‚îî‚îÄ‚îÄ default.conf
‚îú‚îÄ‚îÄ sql/test.sql              # –î–∞–º–ø –±–∞–∑—ã: groups, products, prices
‚îî‚îÄ‚îÄ README.md
```

---

## üîÑ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:
  - –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø 1-–≥–æ —É—Ä–æ–≤–Ω—è (`id_parent = 0`)
  - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –≥—Ä—É–ø–ø–µ –∏ –≤—Å–µ—Ö –ø–æ–¥–≥—Ä—É–ø–ø–∞—Ö
  - –í—Å–µ —Ç–æ–≤–∞—Ä—ã —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π (6 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É) –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π:
    - –ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (A‚ÜíZ / Z‚ÜíA)
    - –ü–æ —Ü–µ–Ω–µ (‚Üë / ‚Üì)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≥—Ä—É–ø–ø—ã:
  - –ü–æ–¥–≥—Ä—É–ø–ø—ã –∏ —Ç–æ–≤–∞—Ä—ã –≤ –≥—Ä—É–ø–ø–µ + –≤—Å–µ –ø–æ–¥–≥—Ä—É–ø–ø—ã
  - –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≥—Ä—É–ø–ø—ã
- –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞:
  - –ù–∞–∑–≤–∞–Ω–∏–µ
  - –¶–µ–Ω–∞
  - –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ (–≤—Å–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –≥—Ä—É–ø–ø—ã)

---

## üß† –ü—Ä–∏–Ω—è—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è

1. **–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –≥—Ä—É–ø–ø**  
   –ú–µ—Ç–æ–¥ –≤ –º–æ–¥–µ–ª–∏ `Group` —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ –≥—Ä—É–ø–ø—ã, —á—Ç–æ–±—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤.

2. **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö**  
   –§–∞–π–ª `sql/test.sql` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ MySQL –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.  
   –ë–∞–∑–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∫–∞–∫ `shop_catalog`.

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**  
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ `with()` –¥–ª—è –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏ —Å–≤—è–∑–µ–π.
   - –ü–æ–¥—Å—á—ë—Ç —Ç–æ–≤–∞—Ä–æ–≤ ‚Äî —á–µ—Ä–µ–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏–ª–∏ SQL —Å `whereIn`.
   - –ò–∑–±–µ–≥–∞—é—Ç—Å—è N+1 –∑–∞–ø—Ä–æ—Å–æ–≤.

4. **–•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏**  
   –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–º —Å–ø—É—Å–∫–æ–º –æ—Ç —Ç–æ–≤–∞—Ä–∞ –∫ –∫–æ—Ä–Ω—é —á–µ—Ä–µ–∑ `id_parent`.

5. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è**  
   –†–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ GET-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
   - `?sort=name&direction=asc`
   - `?sort=price&direction=desc`
   - `?per_page=12` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

6. **–í—ë—Ä—Å—Ç–∫–∞**  
   –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ **Bootstrap 5**. –°–µ—Ç–∫–∞: 3 —Ç–æ–≤–∞—Ä–∞ –≤ —Ä—è–¥

---

## üß™ –¢–µ—Å—Ç—ã

–Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `laravel/tests/`.  
–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å:

```bash
docker exec -it php-fpm php artisan test
```

–ü–æ–∫—Ä—ã—Ç–∏–µ: ~70% –∫–ª—é—á–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, —Ö–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏, –ø–æ–¥—Å—á—ë—Ç).

---

## ‚ùì –í–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã?

### –ß–∞—Å—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è:

- –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à Laravel:
  ```bash
  docker exec -it php-fpm php artisan config:clear
  docker exec -it php-fpm php artisan cache:clear
  ```

- –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
  ```bash
  docker compose down && docker compose up --build
  ```

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `test.sql` –∑–∞–≥—Ä—É–∂–µ–Ω:
  ```bash
  docker exec -it mysql-db mysql -u root -ppassword shop_catalog -e "SELECT COUNT(*) FROM products;"
  ```
